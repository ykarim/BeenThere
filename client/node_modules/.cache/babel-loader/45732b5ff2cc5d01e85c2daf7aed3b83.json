{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\jkair\\\\Desktop\\\\BeenThere\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\jkair\\\\Desktop\\\\BeenThere\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\jkair\\\\Desktop\\\\BeenThere\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\jkair\\\\Desktop\\\\BeenThere\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\jkair\\\\Desktop\\\\BeenThere\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\jkair\\\\Desktop\\\\BeenThere\\\\client\\\\src\\\\pages\\\\Graph.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Badge, DropdownButton, NavDropdown, Button } from 'react-bootstrap';\nimport BubbleChart from '../components/BubbleChart';\n\nvar moment = require('moment');\n\nvar Home =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Home, _Component);\n\n  function Home(props) {\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Home).call(this, props));\n    _this.state = {\n      data: [{\n        _id: _this.props.location.state.text,\n        value: 20,\n        sentiment: 1,\n        selected: false,\n        similar: [],\n        dataid: _this.props.location.state.id\n      }]\n    };\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchPosts();\n    }\n  }, {\n    key: \"fetchPosts\",\n    value: function fetchPosts() {\n      var _this2 = this;\n\n      fetch('http://localhost:5000/api/getPosts').then(function (result) {\n        return result.json();\n      }).then(function (result) {\n        if (result && result.posts) {\n          var add = [];\n\n          for (var i = 0; i < result.posts.length; i++) {\n            var post = result.posts[i];\n            var similaritycount = 0;\n\n            if (post.tags !== undefined && _this2.props.location.state.text !== post.text) {\n              for (var j = 0; j < post.tags.length; j++) {\n                var tag = post.tags[j].toLowerCase();\n                var mytags = _this2.props.location.state.tags;\n                console.log(mytags);\n\n                for (var k = 0; k < mytags.length; k++) {\n                  var mytag = mytags[k].toLowerCase();\n                  console.log(mytag + \" vs \" + tag);\n\n                  if (mytag === tag) {\n                    similaritycount += 1;\n                  }\n                }\n              }\n            }\n\n            if (similaritycount > 0) {\n              console.log(\"WOWO\");\n              add = add.concat([{\n                _id: post.text,\n                dataid: post._id,\n                value: 7 + similaritycount * 2,\n                sentiment: similaritycount / _this2.props.location.state.tags.length,\n                selected: false\n              }]);\n              similaritycount = 0;\n            }\n          }\n\n          setTimeout(function () {\n            console.log(add);\n\n            if (add.length > 0) {\n              this.setState({\n                data: this.state.data.concat(add)\n              });\n            }\n          }.bind(_this2), 1000);\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        style: {\n          height: \"800px\",\n          width: \"100%\",\n          padding: \"0px\",\n          paddingTop: \"20px\",\n          display: \"flex\",\n          flexDirection: \"row\",\n          justifyContent: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(BubbleChart, {\n        data: this.state.data,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Home;\n}(Component);\n\nexport default Home;","map":{"version":3,"sources":["C:\\Users\\jkair\\Desktop\\BeenThere\\client\\src\\pages\\Graph.js"],"names":["React","Component","Link","Badge","DropdownButton","NavDropdown","Button","BubbleChart","moment","require","Home","props","state","data","_id","location","text","value","sentiment","selected","similar","dataid","id","fetchPosts","fetch","then","result","json","posts","add","i","length","post","similaritycount","tags","undefined","j","tag","toLowerCase","mytags","console","log","k","mytag","concat","setTimeout","setState","bind","catch","error","height","width","padding","paddingTop","display","flexDirection","justifyContent"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,KAAT,EAAgBC,cAAhB,EAAgCC,WAAhC,EAA6CC,MAA7C,QAA2D,iBAA3D;AACA,OAAOC,WAAP,MAAwB,2BAAxB;;AACA,IAAIC,MAAM,GAAGC,OAAO,CAAC,QAAD,CAApB;;IAEMC,I;;;;;AACJ,gBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8EAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACXC,MAAAA,IAAI,EAAE,CAAC;AACJC,QAAAA,GAAG,EAAE,MAAKH,KAAL,CAAWI,QAAX,CAAoBH,KAApB,CAA0BI,IAD3B;AAEJC,QAAAA,KAAK,EAAE,EAFH;AAGJC,QAAAA,SAAS,EAAE,CAHP;AAIJC,QAAAA,QAAQ,EAAE,KAJN;AAKJC,QAAAA,OAAO,EAAE,EALL;AAMJC,QAAAA,MAAM,EAAE,MAAKV,KAAL,CAAWI,QAAX,CAAoBH,KAApB,CAA0BU;AAN9B,OAAD;AADK,KAAb;AAFiB;AAYlB;;;;wCAEmB;AAClB,WAAKC,UAAL;AACD;;;iCAEY;AAAA;;AACXC,MAAAA,KAAK,CAAC,oCAAD,CAAL,CACGC,IADH,CACQ,UAAAC,MAAM;AAAA,eAAIA,MAAM,CAACC,IAAP,EAAJ;AAAA,OADd,EAEGF,IAFH,CAEQ,UAAAC,MAAM,EAAI;AACd,YAAIA,MAAM,IAAIA,MAAM,CAACE,KAArB,EAA4B;AAC1B,cAAIC,GAAG,GAAG,EAAV;;AACA,eAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGJ,MAAM,CAACE,KAAP,CAAaG,MAAhC,EAAwCD,CAAC,EAAzC,EAA6C;AAC3C,gBAAIE,IAAI,GAAGN,MAAM,CAACE,KAAP,CAAaE,CAAb,CAAX;AACA,gBAAIG,eAAe,GAAG,CAAtB;;AACA,gBAAID,IAAI,CAACE,IAAL,KAAcC,SAAd,IAA2B,MAAI,CAACxB,KAAL,CAAWI,QAAX,CAAoBH,KAApB,CAA0BI,IAA1B,KAAmCgB,IAAI,CAAChB,IAAvE,EAA6E;AAC3E,mBAAK,IAAIoB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,IAAI,CAACE,IAAL,CAAUH,MAA9B,EAAsCK,CAAC,EAAvC,EAA2C;AACzC,oBAAIC,GAAG,GAAGL,IAAI,CAACE,IAAL,CAAUE,CAAV,EAAaE,WAAb,EAAV;AACA,oBAAIC,MAAM,GAAG,MAAI,CAAC5B,KAAL,CAAWI,QAAX,CAAoBH,KAApB,CAA0BsB,IAAvC;AACAM,gBAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;;AACA,qBAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,MAAM,CAACR,MAA3B,EAAmCW,CAAC,EAApC,EAAwC;AACtC,sBAAIC,KAAK,GAAGJ,MAAM,CAACG,CAAD,CAAN,CAAUJ,WAAV,EAAZ;AACAE,kBAAAA,OAAO,CAACC,GAAR,CAAYE,KAAK,GAAG,MAAR,GAAiBN,GAA7B;;AACA,sBAAIM,KAAK,KAAKN,GAAd,EAAmB;AACjBJ,oBAAAA,eAAe,IAAI,CAAnB;AACD;AACF;AACF;AACF;;AACD,gBAAIA,eAAe,GAAG,CAAtB,EAAyB;AACvBO,cAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACAZ,cAAAA,GAAG,GAAGA,GAAG,CAACe,MAAJ,CAAW,CAAC;AAAC9B,gBAAAA,GAAG,EAAEkB,IAAI,CAAChB,IAAX;AAAiBK,gBAAAA,MAAM,EAAEW,IAAI,CAAClB,GAA9B;AAAmCG,gBAAAA,KAAK,EAAE,IAAKgB,eAAe,GAAC,CAA/D;AAAmEf,gBAAAA,SAAS,EAAEe,eAAe,GAAC,MAAI,CAACtB,KAAL,CAAWI,QAAX,CAAoBH,KAApB,CAA0BsB,IAA1B,CAA+BH,MAA7H;AAAqIZ,gBAAAA,QAAQ,EAAE;AAA/I,eAAD,CAAX,CAAN;AACAc,cAAAA,eAAe,GAAG,CAAlB;AACD;AACF;;AAEDY,UAAAA,UAAU,CACV,YAAW;AACPL,YAAAA,OAAO,CAACC,GAAR,CAAYZ,GAAZ;;AACA,gBAAIA,GAAG,CAACE,MAAJ,GAAa,CAAjB,EAAoB;AAClB,mBAAKe,QAAL,CAAc;AAACjC,gBAAAA,IAAI,EAAE,KAAKD,KAAL,CAAWC,IAAX,CAAgB+B,MAAhB,CAAuBf,GAAvB;AAAP,eAAd;AACD;AACJ,WALD,CAKEkB,IALF,CAKO,MALP,CADU,EAMI,IANJ,CAAV;AAOD;AACF,OArCH,EAqCKC,KArCL,CAqCW,UAAAC,KAAK,EAAI;AAChBT,QAAAA,OAAO,CAACC,GAAR,CAAYQ,KAAZ;AACD,OAvCH;AAwCD;;;6BAEQ;AACP,aACE;AAAK,QAAA,KAAK,EAAE;AAACC,UAAAA,MAAM,EAAE,OAAT;AAAkBC,UAAAA,KAAK,EAAE,MAAzB;AAAiCC,UAAAA,OAAO,EAAE,KAA1C;AAAiDC,UAAAA,UAAU,EAAE,MAA7D;AAAqEC,UAAAA,OAAO,EAAE,MAA9E;AAAsFC,UAAAA,aAAa,EAAE,KAArG;AAA4GC,UAAAA,cAAc,EAAE;AAA5H,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,WAAD;AACE,QAAA,IAAI,EAAE,KAAK5C,KAAL,CAAWC,IADnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADA,CADF;AAOD;;;;EAtEgBZ,S;;AAwEnB,eAAeS,IAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Badge, DropdownButton, NavDropdown, Button } from 'react-bootstrap';\r\nimport BubbleChart from '../components/BubbleChart';\r\nvar moment = require('moment');\r\n\r\nclass Home extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      data: [{\r\n         _id: this.props.location.state.text,\r\n         value: 20,\r\n         sentiment: 1,\r\n         selected: false,\r\n         similar: [],\r\n         dataid: this.props.location.state.id\r\n      }]\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchPosts();\r\n  }\r\n\r\n  fetchPosts() {\r\n    fetch('http://localhost:5000/api/getPosts')\r\n      .then(result => result.json())\r\n      .then(result => {\r\n        if (result && result.posts) {\r\n          var add = []\r\n          for(var i = 0; i < result.posts.length; i++) {\r\n            var post = result.posts[i]\r\n            var similaritycount = 0\r\n            if (post.tags !== undefined && this.props.location.state.text !== post.text) {\r\n              for (var j = 0; j < post.tags.length; j++) {\r\n                var tag = post.tags[j].toLowerCase()\r\n                var mytags = this.props.location.state.tags\r\n                console.log(mytags)\r\n                for (var k = 0; k < mytags.length; k++) {\r\n                  var mytag = mytags[k].toLowerCase()\r\n                  console.log(mytag + \" vs \" + tag)\r\n                  if (mytag === tag) {\r\n                    similaritycount += 1\r\n                  }\r\n                }\r\n              }\r\n            }\r\n            if (similaritycount > 0) {\r\n              console.log(\"WOWO\")\r\n              add = add.concat([{_id: post.text, dataid: post._id, value: 7 + (similaritycount*2), sentiment: similaritycount/this.props.location.state.tags.length, selected: false}])\r\n              similaritycount = 0\r\n            }\r\n          }\r\n\r\n          setTimeout(\r\n          function() {\r\n              console.log(add)\r\n              if (add.length > 0) {\r\n                this.setState({data: this.state.data.concat(add)});\r\n              }\r\n          }.bind(this), 1000);\r\n        }\r\n      }).catch(error => {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div style={{height: \"800px\", width: \"100%\", padding: \"0px\", paddingTop: \"20px\", display: \"flex\", flexDirection: \"row\", justifyContent: \"center\"}}>\r\n      <BubbleChart\r\n        data={this.state.data}\r\n      />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Home;\r\n"]},"metadata":{},"sourceType":"module"}