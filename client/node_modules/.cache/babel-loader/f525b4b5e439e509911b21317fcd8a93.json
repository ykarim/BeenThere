{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport React from \"react\";\nimport { Tag } from \"./components/Tag\";\nimport { classSelectors } from \"./utils/selectors\";\n\nvar ReactTagInput = function (_super) {\n  __extends(ReactTagInput, _super);\n\n  function ReactTagInput() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      input: \"\"\n    };\n    _this.inputRef = React.createRef();\n\n    _this.onInputChange = function (e) {\n      _this.setState({\n        input: e.target.value\n      });\n    };\n\n    _this.onInputKeyDown = function (e) {\n      var input = _this.state.input;\n      var _a = _this.props,\n          validator = _a.validator,\n          removeOnBackspace = _a.removeOnBackspace;\n\n      if (e.keyCode === 13) {\n        e.preventDefault();\n\n        if (input === \"\") {\n          return;\n        }\n\n        var valid = validator !== undefined ? validator(input) : true;\n\n        if (!valid) {\n          return;\n        }\n\n        _this.addTag(input);\n      } else if (removeOnBackspace && (e.keyCode === 8 || e.keyCode === 46)) {\n        if (input !== \"\") {\n          return;\n        }\n\n        _this.removeTag(_this.props.tags.length - 1);\n      }\n    };\n\n    _this.addTag = function (value) {\n      var tags = _this.props.tags.slice();\n\n      tags.push(value);\n\n      _this.props.onChange(tags);\n\n      _this.setState({\n        input: \"\"\n      });\n    };\n\n    _this.removeTag = function (i) {\n      var tags = _this.props.tags.slice();\n\n      tags.splice(i, 1);\n\n      _this.props.onChange(tags);\n    };\n\n    _this.updateTag = function (i, value) {\n      var tags = _this.props.tags.slice();\n\n      tags[i] = value;\n\n      _this.props.onChange(tags);\n    };\n\n    return _this;\n  }\n\n  ReactTagInput.prototype.render = function () {\n    var _this = this;\n\n    var input = this.state.input;\n    var _a = this.props,\n        tags = _a.tags,\n        placeholder = _a.placeholder,\n        maxTags = _a.maxTags,\n        editable = _a.editable,\n        readOnly = _a.readOnly,\n        validator = _a.validator,\n        removeOnBackspace = _a.removeOnBackspace;\n    var maxTagsReached = maxTags !== undefined ? tags.length >= maxTags : false;\n    var isEditable = readOnly ? false : editable || false;\n    var showInput = !readOnly && !maxTagsReached;\n    return React.createElement(\"div\", {\n      className: classSelectors.wrapper\n    }, tags.map(function (tag, i) {\n      return React.createElement(Tag, {\n        key: i,\n        value: tag,\n        index: i,\n        editable: isEditable,\n        readOnly: readOnly || false,\n        inputRef: _this.inputRef,\n        update: _this.updateTag,\n        remove: _this.removeTag,\n        validator: validator,\n        removeOnBackspace: removeOnBackspace\n      });\n    }), showInput && React.createElement(\"input\", {\n      ref: this.inputRef,\n      value: input,\n      className: classSelectors.input,\n      placeholder: placeholder || \"Type and press enter\",\n      onChange: this.onInputChange,\n      onKeyDown: this.onInputKeyDown\n    }));\n  };\n\n  return ReactTagInput;\n}(React.Component);\n\nexport default ReactTagInput;","map":null,"metadata":{},"sourceType":"module"}