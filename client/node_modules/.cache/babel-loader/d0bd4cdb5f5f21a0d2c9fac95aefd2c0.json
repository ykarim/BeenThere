{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\jkair\\\\Desktop\\\\BeenThere\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\jkair\\\\Desktop\\\\BeenThere\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\jkair\\\\Desktop\\\\BeenThere\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\jkair\\\\Desktop\\\\BeenThere\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\jkair\\\\Desktop\\\\BeenThere\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\jkair\\\\Desktop\\\\BeenThere\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\jkair\\\\Desktop\\\\BeenThere\\\\client\\\\src\\\\pages\\\\Home.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Badge, DropdownButton, NavDropdown, Button, Alert, Form } from 'react-bootstrap';\nimport BubbleChart from '../components/BubbleChart';\nimport { withRouter } from 'react-router';\n\nvar moment = require('moment');\n\nvar Home =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Home, _Component);\n\n  function Home(props) {\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Home).call(this, props));\n    _this.state = {\n      content: \"\",\n      fetchMode: 1,\n      posts: [],\n      hidden: [],\n      voted: []\n    };\n    _this.onClickPostHandler = _this.onClickPostHandler.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onClickVoteHandler = _this.onClickVoteHandler.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.fetchPosts = _this.fetchPosts.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.openCommentsPage = _this.openCommentsPage.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"onClickPostHandler\",\n    value: function onClickPostHandler(event) {\n      event.preventDefault();\n      this.props.history.push('/Post');\n    }\n  }, {\n    key: \"onClickVoteHandler\",\n    value: function onClickVoteHandler(postId, index) {\n      var _this2 = this;\n\n      if (!this.state.voted[index]) {\n        fetch('http://localhost:5000/api/votePost', {\n          method: 'POST',\n          // *GET, POST, PUT, DELETE, etc.\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            postId: postId\n          })\n        }).then(function (res) {\n          return res.json();\n        }).then(function (result) {\n          if (result && result.success) {\n            var _temp = _this2.state.posts;\n            _temp[index].counter += 1;\n\n            _this2.setState({\n              posts: _temp\n            });\n          } else {// TODO: show error to user\n          }\n        });\n        var temp = this.state.voted;\n        temp[index] = true;\n        this.setState({\n          voted: temp\n        });\n        console.log(this.state.voted);\n      }\n    }\n  }, {\n    key: \"fetchPosts\",\n    value: function fetchPosts() {\n      var _this3 = this;\n\n      fetch('http://localhost:5000/api/getPosts').then(function (result) {\n        return result.json();\n      }).then(function (result) {\n        if (result && result.posts) {\n          var hidden = result.posts.map(function (x) {\n            return true;\n          });\n          var voted = result.posts.map(function (x) {\n            return false;\n          });\n\n          _this3.setState({\n            posts: result.posts,\n            hidden: hidden,\n            voted: voted\n          });\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"openCommentsPage\",\n    value: function openCommentsPage(postId) {\n      this.props.history.push(\"/\".concat(postId));\n    }\n  }, {\n    key: \"show\",\n    value: function show(index) {\n      var temp = this.state.hidden;\n      temp[index] = !this.state.hidden[index];\n      this.setState({\n        hidden: temp\n      });\n    }\n  }, {\n    key: \"changeMode\",\n    value: function changeMode(mode) {\n      this.setState({\n        fetchMode: mode\n      });\n      var temp = this.state.posts;\n\n      if (mode === 1) {\n        console.log(\"sort by time\");\n        temp.sort(function (a, b) {\n          return moment(b.time).diff(moment(a.time));\n        });\n      } else {\n        console.log(\"sort by count\");\n        temp.sort(function (a, b) {\n          return b.counter - a.counter;\n        });\n      }\n\n      var hidden = this.state.posts.map(function (x) {\n        return true;\n      });\n      var voted = this.state.posts.map(function (x) {\n        return false;\n      });\n      this.setState({\n        posts: temp,\n        hidden: hidden,\n        voted: voted\n      });\n      console.log(temp);\n    }\n  }, {\n    key: \"renderPost\",\n    value: function renderPost(post, index) {\n      var _this4 = this;\n\n      if (post.trigger === undefined || post.trigger.trim() === \"\") {\n        return React.createElement(\"div\", {\n          style: {\n            borderBottom: \"1px solid #8c8c8c\",\n            marginBottom: \"10px\"\n          },\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          style: {\n            display: \"flex\",\n            flexDirection: \"row\",\n            alignItems: \"center\",\n            justifyContent: \"space-between\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          style: {\n            color: \"#474747\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111\n          },\n          __self: this\n        }, moment(post.time).fromNow()), React.createElement(\"div\", {\n          style: {\n            display: \"flex\",\n            flexDirection: \"row\",\n            alignItems: \"center\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114\n          },\n          __self: this\n        }, React.createElement(Button, {\n          variant: \"link\",\n          onClick: function onClick() {\n            return _this4.onClickVoteHandler(post._id, index);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115\n          },\n          __self: this\n        }, \"I've Been There\"), React.createElement(\"div\", {\n          style: {\n            color: \"#474747\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116\n          },\n          __self: this\n        }, post.counter))), React.createElement(\"div\", {\n          style: {\n            marginBottom: \"14px\",\n            display: \"flex\",\n            flexDirection: \"row\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121\n          },\n          __self: this\n        }, post.tags.map(function (tag, index) {\n          return React.createElement(\"div\", {\n            style: {\n              marginRight: \"6px\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 123\n            },\n            __self: this\n          }, React.createElement(Badge, {\n            variant: \"secondary\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 124\n            },\n            __self: this\n          }, tag));\n        })), post.text.split('\\n').map(function (item, i) {\n          return React.createElement(\"p\", {\n            key: i,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 131\n            },\n            __self: this\n          }, item);\n        }), React.createElement(\"div\", {\n          className: \"text-button\",\n          style: {\n            color: \"#474747\",\n            marginTop: \"8px\",\n            marginBottom: \"16px\"\n          },\n          onClick: function onClick() {\n            return _this4.openCommentsPage(post._id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136\n          },\n          __self: this\n        }, post.comments.length, \" comments\"));\n      } else {\n        return this.state.hidden[index] ? React.createElement(\"div\", {\n          style: {\n            flexDirection: \"column\",\n            paddingBottom: \"10px\",\n            paddingTop: \"4px\",\n            borderBottom: \"1px solid #8c8c8c\",\n            marginBottom: \"10px\",\n            display: \"flex\",\n            justifyContent: 'center',\n            alignItems: 'center'\n          },\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144\n          },\n          __self: this\n        }, React.createElement(Alert, {\n          variant: 'warning',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145\n          },\n          __self: this\n        }, \"This post may contain the following triggering topic(s): \", post.trigger), React.createElement(Button, {\n          variant: \"link\",\n          onClick: function onClick() {\n            return _this4.show(index);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        }, \"Show post\")) : React.createElement(\"div\", {\n          style: {\n            borderBottom: \"1px solid #8c8c8c\",\n            marginBottom: \"10px\"\n          },\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          style: {\n            display: \"flex\",\n            flexDirection: \"row\",\n            alignItems: \"center\",\n            justifyContent: \"space-between\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          style: {\n            color: \"#474747\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152\n          },\n          __self: this\n        }, moment(post.time).fromNow()), React.createElement(\"div\", {\n          style: {\n            display: \"flex\",\n            flexDirection: \"row\",\n            alignItems: \"center\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155\n          },\n          __self: this\n        }, React.createElement(Button, {\n          variant: \"link\",\n          onClick: function onClick() {\n            return _this4.onClickVoteHandler(post._id, index);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156\n          },\n          __self: this\n        }, \"I've Been There\"), React.createElement(\"div\", {\n          style: {\n            color: \"#474747\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159\n          },\n          __self: this\n        }, post.counter))), React.createElement(\"div\", {\n          style: {\n            marginBottom: \"14px\",\n            display: \"flex\",\n            flexDirection: \"row\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164\n          },\n          __self: this\n        }, post.tags.map(function (tag, index) {\n          return React.createElement(\"div\", {\n            style: {\n              marginRight: \"6px\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 166\n            },\n            __self: this\n          }, React.createElement(Badge, {\n            variant: \"secondary\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 167\n            },\n            __self: this\n          }, tag));\n        })), post.text.split('\\n').map(function (item, i) {\n          return React.createElement(\"p\", {\n            key: i,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 173\n            },\n            __self: this\n          }, item, React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 173\n            },\n            __self: this\n          }));\n        }), React.createElement(\"div\", {\n          className: \"text-button\",\n          style: {\n            color: \"#474747\",\n            marginTop: \"8px\",\n            marginBottom: \"16px\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178\n          },\n          __self: this\n        }, post.comments.length, \" comments\"));\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchPosts();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      return React.createElement(\"div\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"center\",\n          marginTop: \"30px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          width: \"65%\",\n          textAlign: \"flex-start\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          display: \"flex\",\n          flexDirection: \"row\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, \"Been There\"), React.createElement(\"div\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          height: \"50px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"outline-secondary\",\n        onClick: function onClick() {\n          return _this5.props.history.push('/Resources');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, \"Resources\"))), \"We all go through hard times, and sometimes it's nice to simply know that you aren't alone. Post your stories of hard times to see similar stories. Warning! There may be triggering content below, please read with caution.\", React.createElement(\"div\", {\n        style: {\n          display: \"flex\",\n          flexDirection: \"row\",\n          alignItems: \"center\",\n          justifyContent: \"space-between\",\n          width: \"100%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          display: \"flex\",\n          flexDirection: \"row\",\n          alignItems: \"center\",\n          marginTop: \"14px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, \"Sorting by\", React.createElement(NavDropdown, {\n        title: this.state.fetchMode === 1 ? \"Recent\" : \"Top\",\n        id: \"basic-nav-dropdown\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, React.createElement(NavDropdown.Item, {\n        onClick: function onClick() {\n          return _this5.changeMode(1);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, \"Recent\"), React.createElement(NavDropdown.Item, {\n        onClick: function onClick() {\n          return _this5.changeMode(0);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, \"Top\"))), React.createElement(Button, {\n        variant: \"outline-primary\",\n        onClick: this.onClickPostHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }, \"Post your story\")), React.createElement(\"div\", {\n        style: {\n          borderBottom: \"1px solid #8c8c8c\",\n          marginTop: \"12px\",\n          marginBottom: \"12px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }), this.state.posts.map(function (post, index) {\n        return _this5.renderPost(post, index);\n      })));\n    }\n  }]);\n\n  return Home;\n}(Component);\n\nexport default withRouter(Home);","map":{"version":3,"sources":["C:\\Users\\jkair\\Desktop\\BeenThere\\client\\src\\pages\\Home.js"],"names":["React","Component","Link","Badge","DropdownButton","NavDropdown","Button","Alert","Form","BubbleChart","withRouter","moment","require","Home","props","state","content","fetchMode","posts","hidden","voted","onClickPostHandler","bind","onClickVoteHandler","fetchPosts","openCommentsPage","event","preventDefault","history","push","postId","index","fetch","method","headers","body","JSON","stringify","then","res","json","result","success","temp","counter","setState","console","log","map","x","catch","error","mode","sort","a","b","time","diff","post","trigger","undefined","trim","borderBottom","marginBottom","display","flexDirection","alignItems","justifyContent","color","fromNow","_id","tags","tag","marginRight","text","split","item","i","marginTop","comments","length","paddingBottom","paddingTop","show","width","textAlign","height","changeMode","renderPost"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Badge, DropdownButton, NavDropdown, Button, Alert, Form } from 'react-bootstrap';\r\nimport BubbleChart from '../components/BubbleChart';\r\nimport { withRouter } from 'react-router';\r\n\r\nvar moment = require('moment');\r\n\r\nclass Home extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      content: \"\",\r\n      fetchMode: 1,\r\n      posts: [],\r\n      hidden: [],\r\n      voted: [],\r\n    }\r\n\r\n    this.onClickPostHandler = this.onClickPostHandler.bind(this);\r\n    this.onClickVoteHandler = this.onClickVoteHandler.bind(this);\r\n    this.fetchPosts = this.fetchPosts.bind(this);\r\n    this.openCommentsPage = this.openCommentsPage.bind(this);\r\n  }\r\n\r\n  onClickPostHandler(event) {\r\n    event.preventDefault();\r\n\r\n    this.props.history.push('/Post');\r\n  }\r\n\r\n  onClickVoteHandler(postId, index) {\r\n    if (!this.state.voted[index]) {\r\n      fetch('http://localhost:5000/api/votePost', {\r\n        method: 'POST', // *GET, POST, PUT, DELETE, etc.\r\n        headers: {\r\n          'Accept': 'application/json',\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          postId: postId\r\n        }),\r\n      }).then(res => res.json())\r\n        .then(result => {\r\n          if (result && result.success) {\r\n            let temp = this.state.posts\r\n            temp[index].counter += 1\r\n            this.setState({ posts: temp })\r\n          } else {\r\n            // TODO: show error to user\r\n          }\r\n        });\r\n      let temp = this.state.voted;\r\n      temp[index] = true\r\n      this.setState({ voted: temp })\r\n      console.log(this.state.voted)\r\n    }\r\n  }\r\n\r\n  fetchPosts() {\r\n    fetch('http://localhost:5000/api/getPosts')\r\n      .then(result => result.json())\r\n      .then(result => {\r\n        if (result && result.posts) {\r\n          var hidden = result.posts.map(x => true);\r\n          var voted = result.posts.map(x => false);\r\n\r\n          this.setState({\r\n            posts: result.posts,\r\n            hidden: hidden,\r\n            voted: voted\r\n          })\r\n\r\n        }\r\n      }).catch(error => {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  openCommentsPage(postId) {\r\n    this.props.history.push(`/${postId}`);\r\n  }\r\n\r\n  show(index) {\r\n    let temp = this.state.hidden;\r\n    temp[index] = !this.state.hidden[index]\r\n    this.setState({ hidden: temp })\r\n  }\r\n\r\n  changeMode(mode) {\r\n    this.setState({ fetchMode: mode })\r\n    let temp = this.state.posts\r\n    if (mode === 1) {\r\n      console.log(\"sort by time\")\r\n      temp.sort(function (a, b) { return (moment(b.time).diff(moment(a.time))) })\r\n    } else {\r\n      console.log(\"sort by count\")\r\n      temp.sort(function (a, b) { return (b.counter - a.counter) })\r\n    }\r\n    var hidden = this.state.posts.map(x => true);\r\n    var voted = this.state.posts.map(x => false);\r\n    this.setState({ posts: temp, hidden: hidden, voted: voted })\r\n    console.log(temp)\r\n  }\r\n\r\n  renderPost(post, index) {\r\n    if (post.trigger === undefined || post.trigger.trim() === \"\") {\r\n      return (\r\n        <div style={{ borderBottom: \"1px solid #8c8c8c\", marginBottom: \"10px\" }} key={index}>\r\n          <div style={{ display: \"flex\", flexDirection: \"row\", alignItems: \"center\", justifyContent: \"space-between\" }}>\r\n            <div style={{ color: \"#474747\" }}>\r\n              {moment(post.time).fromNow()}\r\n            </div>\r\n            <div style={{ display: \"flex\", flexDirection: \"row\", alignItems: \"center\" }}>\r\n              <Button variant=\"link\" onClick={() => this.onClickVoteHandler(post._id, index)}>I've Been There</Button>\r\n              <div style={{ color: \"#474747\" }}>\r\n                {post.counter}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div style={{marginBottom: \"14px\", display: \"flex\", flexDirection: \"row\"}}>\r\n          {post.tags.map((tag, index) =>\r\n            <div style={{marginRight: \"6px\"}}>\r\n              <Badge variant=\"secondary\">{tag}</Badge>\r\n            </div>)}\r\n          </div>\r\n\r\n          {\r\n            post.text.split('\\n').map((item, i) => {\r\n              return (\r\n                <p key={i}>{item}</p>\r\n              );\r\n            })\r\n          }\r\n\r\n          <div className={\"text-button\"} style={{ color: \"#474747\", marginTop: \"8px\", marginBottom: \"16px\" }} onClick={() => this.openCommentsPage(post._id)}>\r\n            {post.comments.length} comments\r\n        </div>\r\n        </div>)\r\n    }\r\n    else {\r\n      return (\r\n        ((this.state.hidden[index]) ? (\r\n          <div style={{ flexDirection: \"column\", paddingBottom: \"10px\", paddingTop: \"4px\", borderBottom: \"1px solid #8c8c8c\", marginBottom: \"10px\", display: \"flex\", justifyContent: 'center', alignItems: 'center' }} key={index}>\r\n            <Alert variant={'warning'}>\r\n              This post may contain the following triggering topic(s): {post.trigger}\r\n            </Alert>\r\n            <Button variant=\"link\" onClick={() => this.show(index)}>Show post</Button>\r\n          </div>) :\r\n          (<div style={{ borderBottom: \"1px solid #8c8c8c\", marginBottom: \"10px\" }} key={index}>\r\n            <div style={{ display: \"flex\", flexDirection: \"row\", alignItems: \"center\", justifyContent: \"space-between\" }}>\r\n              <div style={{ color: \"#474747\" }}>\r\n                {moment(post.time).fromNow()}\r\n              </div>\r\n              <div style={{ display: \"flex\", flexDirection: \"row\", alignItems: \"center\" }}>\r\n                <Button variant=\"link\" onClick={() => this.onClickVoteHandler(post._id, index)}>\r\n                  I've Been There\r\n              </Button>\r\n                <div style={{ color: \"#474747\" }}>\r\n                  {post.counter}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div style={{marginBottom: \"14px\", display: \"flex\", flexDirection: \"row\"}}>\r\n            {post.tags.map((tag, index) =>\r\n              <div style={{marginRight: \"6px\"}}>\r\n                <Badge variant=\"secondary\">{tag}</Badge>\r\n              </div>)}\r\n            </div>\r\n            {\r\n              post.text.split('\\n').map((item, i) => {\r\n                return (\r\n                  <p key={i}>{item}<br></br></p>\r\n                );\r\n              })\r\n            }\r\n\r\n            <div className={\"text-button\"} style={{ color: \"#474747\", marginTop: \"8px\", marginBottom: \"16px\" }}>\r\n              {post.comments.length} comments\r\n        </div>\r\n          </div>))\r\n      )\r\n    }\r\n\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchPosts();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div style={{ display: \"flex\", justifyContent: \"center\", marginTop: \"30px\" }}>\r\n        <div style={{ width: \"65%\", textAlign: \"flex-start\" }}>\r\n          <div style={{display: \"flex\", flexDirection: \"row\", justifyContent: \"space-between\", alignItems: \"center\"}}>\r\n            <h1>\r\n              Been There\r\n            </h1>\r\n            <div style={{display: \"flex\", justifyContent: \"center\", alignItems: \"center\", height: \"50px\"}}>\r\n              <Button variant=\"outline-secondary\" onClick={() => this.props.history.push('/Resources')}>Resources</Button>\r\n            </div>\r\n          </div>\r\n          We all go through hard times, and sometimes it's nice to simply know that you aren't alone.\r\n          Post your stories of hard times to see similar stories. Warning! There may be triggering content below,\r\n          please read with caution.\r\n        <div style={{ display: \"flex\", flexDirection: \"row\", alignItems: \"center\", justifyContent: \"space-between\", width: \"100%\" }}>\r\n            <div style={{ display: \"flex\", flexDirection: \"row\", alignItems: \"center\", marginTop: \"14px\" }}>\r\n              Sorting by\r\n        <NavDropdown title={this.state.fetchMode === 1 ? \"Recent\" : \"Top\"} id=\"basic-nav-dropdown\">\r\n                <NavDropdown.Item onClick={() => this.changeMode(1)}>Recent</NavDropdown.Item>\r\n                <NavDropdown.Item onClick={() => this.changeMode(0)}>Top</NavDropdown.Item>\r\n              </NavDropdown>\r\n            </div>\r\n            <Button variant=\"outline-primary\" onClick={this.onClickPostHandler}>Post your story</Button>\r\n          </div>\r\n          <div style={{ borderBottom: \"1px solid #8c8c8c\", marginTop: \"12px\", marginBottom: \"12px\" }} />\r\n          {this.state.posts.map((post, index) =>\r\n            this.renderPost(post, index))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default withRouter(Home);\r\n"]},"metadata":{},"sourceType":"module"}