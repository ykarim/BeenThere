{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\jkair\\\\Desktop\\\\BeenThere\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\jkair\\\\Desktop\\\\BeenThere\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\jkair\\\\Desktop\\\\BeenThere\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\jkair\\\\Desktop\\\\BeenThere\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\jkair\\\\Desktop\\\\BeenThere\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\jkair\\\\Desktop\\\\BeenThere\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\jkair\\\\Desktop\\\\BeenThere\\\\client\\\\src\\\\pages\\\\post\\\\index.js\";\nimport React from \"react\";\nimport { Link } from 'react-router-dom';\nimport { Badge, DropdownButton, NavDropdown, Button, Form } from 'react-bootstrap';\nimport { withRouter } from 'react-router';\nimport ReactTagInput from \"@pathofdev/react-tag-input\";\nimport \"@pathofdev/react-tag-input/build/index.css\";\n\nvar PostPage =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(PostPage, _React$Component);\n\n  function PostPage(props) {\n    var _this;\n\n    _classCallCheck(this, PostPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PostPage).call(this, props));\n    _this.state = {\n      text: '',\n      trigger: '',\n      isLoading: false,\n      show: false,\n      tags: []\n    };\n    _this.onChangeTextHandler = _this.onChangeTextHandler.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.submitPost = _this.submitPost.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(PostPage, [{\n    key: \"onChangeTextHandler\",\n    value: function onChangeTextHandler(event) {\n      this.setState({\n        text: event.target.value\n      });\n    }\n  }, {\n    key: \"setTags\",\n    value: function setTags(newTags) {\n      this.setState({\n        tags: newTags\n      });\n    }\n  }, {\n    key: \"submitPost\",\n    value: function submitPost(event) {\n      var _this2 = this;\n\n      event.preventDefault();\n      fetch('http://localhost:5000/api/submitPost', {\n        method: 'POST',\n        // *GET, POST, PUT, DELETE, etc.\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          postContent: {\n            text: this.state.text,\n            time: new Date().toString(),\n            trigger: this.state.trigger,\n            counter: 0,\n            tags: this.state.tags,\n            comments: []\n          }\n        })\n      }).then(function (result) {\n        return result.json();\n      }).then(function (result) {\n        if (result && result.success) {\n          if (_this2.state.show) {\n            _this2.props.history.push({\n              pathname: '/Graph',\n              state: {\n                text: _this2.state.text,\n                tags: _this2.state.tags,\n                id: result.post._id\n              }\n            });\n          } else {\n            _this2.props.history.push(\"/\".concat(result.post._id));\n          }\n        } else {//TODO: show user error\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(\"div\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"center\",\n          marginTop: \"30px\",\n          flex: 1\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          width: \"65%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(Form, {\n        onSubmit: this.submitPost,\n        style: {\n          display: \"flex\",\n          flex: 0.8\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          flex: 1\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        style: {\n          display: \"inline-block\",\n          flex: 1\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \"Share\"), React.createElement(Form.Group, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(Form.Control, {\n        as: \"textarea\",\n        rows: \"3\",\n        onChange: this.onChangeTextHandler,\n        value: this.state.text,\n        placeholder: \"Share your story here...\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        style: {\n          marginBottom: \"14px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          marginBottom: \"6px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \"Topics (tags)\"), React.createElement(ReactTagInput, {\n        tags: this.state.tags,\n        onChange: function onChange(newTags) {\n          return _this3.setTags(newTags);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        style: {\n          width: \"50%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \"Sensitive (possibly triggering) topics\"), React.createElement(Form.Control, {\n        type: \"text\",\n        placeholder: \"Leave blank if none\",\n        onChange: function onChange(event) {\n          return _this3.setState({\n            trigger: event.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }))), React.createElement(Form.Group, {\n        controlId: \"formBasicCheckbox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(Form.Check, {\n        type: \"checkbox\",\n        label: \"I would like to see stories like mine\",\n        onChange: function onChange(event) {\n          return _this3.setState({\n            show: event.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }), React.createElement(\"sub\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, \"If checked, you may see potentially triggering content after sharing.\")), React.createElement(\"div\", {\n        style: {\n          flex: 1,\n          display: 'flex',\n          marginTop: \"20px\" // flexDirection: \"row-reverse\"\n\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"primary\",\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, \"Share your story\"))))));\n    }\n  }]);\n\n  return PostPage;\n}(React.Component);\n\nexport default withRouter(PostPage);","map":{"version":3,"sources":["C:\\Users\\jkair\\Desktop\\BeenThere\\client\\src\\pages\\post\\index.js"],"names":["React","Link","Badge","DropdownButton","NavDropdown","Button","Form","withRouter","ReactTagInput","PostPage","props","state","text","trigger","isLoading","show","tags","onChangeTextHandler","bind","submitPost","event","setState","target","value","newTags","preventDefault","fetch","method","headers","body","JSON","stringify","postContent","time","Date","toString","counter","comments","then","result","json","success","history","push","pathname","id","post","_id","display","justifyContent","marginTop","flex","width","marginBottom","setTags","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Link } from 'react-router-dom';\r\nimport { Badge, DropdownButton, NavDropdown, Button, Form } from 'react-bootstrap';\r\nimport { withRouter } from 'react-router';\r\nimport ReactTagInput from \"@pathofdev/react-tag-input\";\r\nimport \"@pathofdev/react-tag-input/build/index.css\";\r\n\r\nclass PostPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            text: '',\r\n            trigger: '',\r\n            isLoading: false,\r\n            show: false,\r\n            tags: [],\r\n        };\r\n\r\n        this.onChangeTextHandler = this.onChangeTextHandler.bind(this);\r\n        this.submitPost = this.submitPost.bind(this);\r\n    }\r\n\r\n    onChangeTextHandler(event) {\r\n        this.setState({\r\n            text: event.target.value,\r\n        });\r\n    }\r\n\r\n    setTags(newTags) {\r\n        this.setState({ tags: newTags })\r\n    }\r\n\r\n    submitPost(event) {\r\n        event.preventDefault();\r\n\r\n        fetch('http://localhost:5000/api/submitPost', {\r\n            method: 'POST', // *GET, POST, PUT, DELETE, etc.\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({\r\n                postContent: {\r\n                    text: this.state.text,\r\n                    time: new Date().toString(),\r\n                    trigger: this.state.trigger,\r\n                    counter: 0,\r\n                    tags: this.state.tags,\r\n                    comments: [],\r\n                },\r\n            }),\r\n        }).then(result => result.json())\r\n            .then(result => {\r\n                if (result && result.success) {\r\n                    if (this.state.show) {\r\n                        this.props.history.push({\r\n                          pathname: '/Graph',\r\n                          state: {\r\n                            text: this.state.text,\r\n                            tags: this.state.tags,\r\n                            id: result.post._id\r\n                          }\r\n                      });\r\n                    } else {\r\n                        this.props.history.push(`/${result.post._id}`);\r\n                    }\r\n                } else {\r\n                    //TODO: show user error\r\n                }\r\n            });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div style={{\r\n                display: \"flex\",\r\n                justifyContent: \"center\",\r\n                marginTop: \"30px\",\r\n                flex: 1,\r\n            }}>\r\n                <div style={{ width: \"65%\" }}>\r\n                    <Form onSubmit={this.submitPost} style={{\r\n                        display: \"flex\",\r\n                        flex: 0.8,\r\n                    }}>\r\n                        <div style={{\r\n                            flex: 1,\r\n                        }}>\r\n                            <h1 style={{\r\n                                display: \"inline-block\",\r\n                                flex: 1,\r\n                            }}>Share</h1>\r\n\r\n                            <Form.Group>\r\n                                <Form.Control\r\n                                    as=\"textarea\"\r\n                                    rows=\"3\"\r\n                                    onChange={this.onChangeTextHandler}\r\n                                    value={this.state.text}\r\n                                    placeholder=\"Share your story here...\" />\r\n                            </Form.Group>\r\n                            <div style={{ marginBottom: \"14px\" }}>\r\n                                <div style={{ marginBottom: \"6px\" }}>Topics (tags)</div>\r\n                                <ReactTagInput\r\n                                    tags={this.state.tags}\r\n                                    onChange={(newTags) => this.setTags(newTags)}\r\n                                />\r\n                            </div>\r\n                            <div style={{ width: \"50%\" }}>\r\n                                <Form.Group>\r\n                                    <Form.Label>Sensitive (possibly triggering) topics</Form.Label>\r\n                                    <Form.Control\r\n                                        type=\"text\"\r\n                                        placeholder=\"Leave blank if none\"\r\n                                        onChange={(event) => this.setState({ trigger: event.target.value })}\r\n                                    />\r\n                                </Form.Group>\r\n                            </div>\r\n                            <Form.Group controlId=\"formBasicCheckbox\">\r\n                                <Form.Check\r\n                                    type=\"checkbox\"\r\n                                    label=\"I would like to see stories like mine\"\r\n                                    onChange={(event) => this.setState({ show: event.target.value })}\r\n                                />\r\n                                <sub>\r\n                                    If checked, you may see potentially triggering content after sharing.\r\n                                </sub>\r\n                            </Form.Group>\r\n\r\n                            <div style={{\r\n                                flex: 1,\r\n                                display: 'flex',\r\n                                marginTop: \"20px\"\r\n                                // flexDirection: \"row-reverse\"\r\n                            }}>\r\n                                <Button variant=\"primary\" type=\"submit\">Share your story</Button>\r\n                            </div>\r\n                        </div>\r\n                    </Form>\r\n                </div>\r\n            </div >\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(PostPage);\r\n"]},"metadata":{},"sourceType":"module"}